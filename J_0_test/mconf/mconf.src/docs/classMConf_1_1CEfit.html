<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>MConf: CEfit Class Reference</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="author" content="Yuriy Turkin">
  <meta name="keywords" content="stellarator, w7x, W7-X, W7-X software">
  <meta name="description" content="W7-X Software">
  <link href="myCss.css" rel="stylesheet" type="text/css">
  <link href="tabs.css" rel="stylesheet" type="text/css" >
</head>
<body>
  <div class="centerAll" id="TopOfPage">
    <div class="bodyForAll">
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceMConf.html">MConf</a>::<a class="el" href="classMConf_1_1CEfit.html">CEfit</a>
  </div>
</div>
<div class="contents">
<h1>CEfit Class Reference</h1><!-- doxytag: class="MConf::CEfit" -->Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry flux coordinates.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="CEfit_8h-source.html">CEfit.h</a>&gt;</code>
<p>

<p>
<a href="classMConf_1_1CEfit-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>amoebaFunc</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>Bfield</b></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function object returns vector of magnetic field for given point in cylindrical coordinates. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMConf_1_1CEfit.html">CEfit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#8cc903fa0a6da65de5db6cdb4e8e699a">clone</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method creates a clone of <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a> using allocation by new.  <a href="#8cc903fa0a6da65de5db6cdb4e8e699a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#1b78dd3476df31605a0879e6db22e1e0">CEfit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method creates a clone of <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a> using allocation by new.  <a href="#1b78dd3476df31605a0879e6db22e1e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#7fa440242d9acad4ca4995fe4026d4e3">CEfit</a> (int M, int Ns, int nLastToSkip)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#b8c33cf8f7c7386fb6fce436651bc3cc">~CEfit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The destructor is a virtual method that frees all memory used.  <a href="#b8c33cf8f7c7386fb6fce436651bc3cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#c8bb3912a3ce86b15842e79d0b421204">clear</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free all memory used by <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a>.  <a href="#c8bb3912a3ce86b15842e79d0b421204"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#7ba026fd9689949d5bb6fb0caebbc75c">load</a> (const char *fname, double BpolScale=0, double BtorScale=0, int BpolSign=0, int BtorSign=0, int qSign=0, int psiOverTwopi=0, long fPostn=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method loads magnetic configuration stored in the EQDSK file <code>fname</code>.  <a href="#7ba026fd9689949d5bb6fb0caebbc75c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#e570054339fa9b77ec8d1105931b1675">load</a> (const <a class="el" href="classMConf_1_1CStconfig.html">CStconfig</a> *mconf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create circular tokamak using a,R0, B00, iota(0) from given configuration mconf.  <a href="#e570054339fa9b77ec8d1105931b1675"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#78990418d548a9f25399f370f2d2d482">isOK</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method returns <code>true</code> if no error occurs during last operation.  <a href="#78990418d548a9f25399f370f2d2d482"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#1d9c9c854c492f4cba04315305c0dc73">getNs</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#7192921615bb7978748e93c4f80747cc">getM</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#b706d7c9ec625ce951aa5ab49ad9fe49">getS</a> (int is) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">0&lt;=is&lt;=getNs()  <a href="#b706d7c9ec625ce951aa5ab49ad9fe49"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#c4270d79ccb3eed2a05abb3046514bff">getIota</a> (int is) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#d3f7dd2dd294b56bcb4a262f98f0d5ca">getPp</a> (int is) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#e62db80cd87631fbb0e00396ad4ca45a">getIpol</a> (int is) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#84e8e6842dbc8e408dd000564753dad2">getFlux</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#0c6f9145f6e1f7eb2edea0a3a1199c33">getRmajor</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#a9720258baf5be77d062a13412a73971">getMAxis</a> () const </td></tr>

<tr><td colspan="2"><div class="groupHeader">Methods to retrieve data from the EFIT-mesh</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#f96c2041ce0d73a77bb824f37fd1159c">getBcyl</a> (const <a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a> &amp;cyl, double *psi=0) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method returns cylindrical B-vector.  <a href="#f96c2041ce0d73a77bb824f37fd1159c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#f2b184345bdc9e5ebab3c933a423bf84">cyl2s</a> (const <a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a> &amp;cyl) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The method finds the flux label <code>s</code> (normalized toroidal flux) which corresponds to the point <code>cyl</code> in space.  <a href="#f2b184345bdc9e5ebab3c933a423bf84"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods to create Fourier decomposition of flux surfaces</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#5c2fe017e8a030a73e102e5caed1de87">createSurface</a> (int is, double &amp;dVds, double &amp;Itor, std::ofstream *out=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">0&lt;=is&lt;=getNs()  <a href="#5c2fe017e8a030a73e102e5caed1de87"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#ecc7b03e807efca1d799abd85c18cd30">getRm0</a> (int m) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">0&lt;=m&lt;=getM()  <a href="#ecc7b03e807efca1d799abd85c18cd30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#bba4fd95512f8beda860ba7113552d72">getBm0</a> (int m) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#0a265dc61f655515882136e868fcb61a">getZm0</a> (int m) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#0f61f3129280b9f3cb4baebcd559e814">getRm1</a> (int m) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#249b288fa38f48b1bbb30229105d47f9">getBm1</a> (int m) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#ec30db457c56ef0fa6819c2fa0d4d21d">getZm1</a> (int m) const </td></tr>

<tr><td colspan="2"><br><h2>Downhill simplex method</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMConf_1_1CEfit.html#74c73484fed4fe291efbbeb43884058c">amoebaFunc</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry flux coordinates. 
<p>
In this coordinates the toroidal angle coinside with the cylindrical angle, field lines are straight, and Jacobian is proportional to R*R/(mu0*Ipol), class is used by CStconfig::loadEfit() 
<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00020">20</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="1b78dd3476df31605a0879e6db22e1e0"></a><!-- doxytag: member="MConf::CEfit::CEfit" ref="1b78dd3476df31605a0879e6db22e1e0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMConf_1_1CEfit.html">CEfit</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method creates a clone of <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a> using allocation by new. 
<p>
The constructor creates an empty instance of <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a>. 
</div>
</div><p>
<a class="anchor" name="7fa440242d9acad4ca4995fe4026d4e3"></a><!-- doxytag: member="MConf::CEfit::CEfit" ref="7fa440242d9acad4ca4995fe4026d4e3" args="(int M, int Ns, int nLastToSkip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMConf_1_1CEfit.html">CEfit</a>           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>Ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nLastToSkip</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>M</em>&nbsp;</td><td>is the number of poloidal mode for Fourier expantion of surfaces. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>Ns</em>&nbsp;</td><td>is the number of flux surfaces to build </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b8c33cf8f7c7386fb6fce436651bc3cc"></a><!-- doxytag: member="MConf::CEfit::~CEfit" ref="b8c33cf8f7c7386fb6fce436651bc3cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classMConf_1_1CEfit.html">CEfit</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The destructor is a virtual method that frees all memory used. 
<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00131">131</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

<p>References <a class="el" href="classMConf_1_1CEfit.html#c8bb3912a3ce86b15842e79d0b421204">CEfit::clear()</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="8cc903fa0a6da65de5db6cdb4e8e699a"></a><!-- doxytag: member="MConf::CEfit::clone" ref="8cc903fa0a6da65de5db6cdb4e8e699a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMConf_1_1CEfit.html">CEfit</a>* clone           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method creates a clone of <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a> using allocation by new. 
<p>
The caller is responsible for deleting the clone 
<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00112">112</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c8bb3912a3ce86b15842e79d0b421204"></a><!-- doxytag: member="MConf::CEfit::clear" ref="c8bb3912a3ce86b15842e79d0b421204" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free all memory used by <a class="el" href="classMConf_1_1CEfit.html" title="Helper class that reads EFIT GEQDSK file and transforms it to the Tokamak Symmetry...">CEfit</a>. 
<p>
Usually no needs to use this method. Destructor does this. 
<p>Referenced by <a class="el" href="CEfit_8h-source.html#l00131">CEfit::~CEfit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7ba026fd9689949d5bb6fb0caebbc75c"></a><!-- doxytag: member="MConf::CEfit::load" ref="7ba026fd9689949d5bb6fb0caebbc75c" args="(const char *fname, double BpolScale=0, double BtorScale=0, int BpolSign=0, int BtorSign=0, int qSign=0, int psiOverTwopi=0, long fPostn=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool load           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>BpolScale</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>BtorScale</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BpolSign</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>BtorSign</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>qSign</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>psiOverTwopi</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>fPostn</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method loads magnetic configuration stored in the EQDSK file <code>fname</code>. 
<p>
The method understands format of a file by analyzing its contents. <dl class="see" compact><dt><b>See also:</b></dt><dd>the detailed description of <a class="el" href="classMConf_1_1CStconfig.html#071b9a97170fd011e61fedaa0aae2dbc" title="The method loads the magnetic configuration stored in the file filename.">CStconfig::load()</a>. The method import equilibrium from the EQDSK File into straight-field-line coordinates system (s,theta,phi) with the cylindrical angle phi as the toroidal angle. The right handed cylindrical coodinate system (r,phi,z) is used. The system (s,theta,phi) can be left or right handed; the direction of theta and correcpondingly the Jacobian sign depends on Bpol, Btor directions and the sign of safety factor, see below.</dd></dl>
<br>
 The value of the following parameters BpolScale, BtorScale, BpolSign, BtorSign, qSign, psiOverTwopi can be put in the first line of the EQDSK file, for example <div class="fragment"><pre class="fragment"> RC-ITER...             06-DEC-02                  3 129 129  EQDSK   BpolScale=0 BtorScale=0 BpolSign=1 BtorSign=1 qSign=1 psi/2pi=yes    
</pre></div> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fname</em>&nbsp;</td><td>is the name of G EQDSK file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>BpolScale</em>&nbsp;</td><td>is the scale factor for the poloidal field, the factor sign is ignored, <ul>
<li>BpolScale=0 means that the scale factor is taken from the the first line of the EQDSK file if it found, otherwise no scaling is performed. </li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>BtorScale</em>&nbsp;</td><td>is the scale factor for the toroidal field, the same logic as for poloidal field scaling.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>BpolSign</em>&nbsp;</td><td>sets the sign of the poloidal field (by changing sign of the poloidal flux psi): <ul>
<li>+1 means positive Bpol, positive Bpol is created by the positive currrent density j_phi flowing in direction of the angle phi in the right handed cylindrical coodinate system (r,phi,z); </li>
<li>-1 means negative Bpol created by the negative currrent density flowing in counter direction of the cylindrical angle phi; </li>
<li>0 means that Btor direction is taken from the BpolSign=n (where n is one from =-1,0,1) if it stored in the first line of the EQDSK file, </li>
<li>if BpolSign not found in the file or BpolSign=0 then Bpol direction is defined by the psirz array stored in the EQDSK file. </li>
<li>B = (-dpsirz/dz, Fpol, dpsirz/dr)/r</li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>BtorSign</em>&nbsp;</td><td>sets the sign of the toroidal field: <ul>
<li>+1 means positive Btor in direction of the angle phi in the right handed cylindrical coodinate system (r,phi,z), </li>
<li>-1 means negative Btor in counter direction of the cylindrical angle phi, </li>
<li>0 means that Btor direction is taken from the BtorSign=n (where n is one from =-1,0,1) if it stored in the first line of the EQDSK file, </li>
<li>if BtorSign not found in the file or BtorSign=0 then Btor direction is defined by the poloidal current function stored in the EQDSK file. </li>
<li>B = (-dpsirz/dz, Fpol, dpsirz/dr)/r</li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>qSign</em>&nbsp;</td><td>sets the sign of the safety factor, qSign is taken from the EQDSK file if this parameter is zero, <ul>
<li>if qSign not found in the file or qSign=0 in it then the safety factor is defined by the q values stored in the EQDSK file.</li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>psiOverTwopi</em>&nbsp;</td><td>defines whether the poloidal flux psi is divided by 2pi: <ul>
<li>-1 means no, i.e psi is not devided over 2pi, this corresponds to COCOS&gt;=11. </li>
<li>0,1 assume that the flux psi stored in the file is already divided by 2pi. </li>
<li>in case psiOverTwopi is 0 the psiOverTwopi is derived from the string psi/2pi=val stored in the EQDSK file hader, where val is yes or no.</li>
</ul>
</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fPostn</em>&nbsp;</td><td>is the position in the file fname from where to start reading EQDSK staff. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>if the method succeeds, the return value is <b>true</b>; <b>false</b> otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e570054339fa9b77ec8d1105931b1675"></a><!-- doxytag: member="MConf::CEfit::load" ref="e570054339fa9b77ec8d1105931b1675" args="(const CStconfig *mconf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool load           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMConf_1_1CStconfig.html">CStconfig</a> *&nbsp;</td>
          <td class="paramname"> <em>mconf</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create circular tokamak using a,R0, B00, iota(0) from given configuration mconf. 
<p>

</div>
</div><p>
<a class="anchor" name="78990418d548a9f25399f370f2d2d482"></a><!-- doxytag: member="MConf::CEfit::isOK" ref="78990418d548a9f25399f370f2d2d482" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isOK           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method returns <code>true</code> if no error occurs during last operation. 
<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00185">185</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f96c2041ce0d73a77bb824f37fd1159c"></a><!-- doxytag: member="MConf::CEfit::getBcyl" ref="f96c2041ce0d73a77bb824f37fd1159c" args="(const Vector3d &amp;cyl, double *psi=0) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a> getBcyl           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>cyl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>psi</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method returns cylindrical B-vector. 
<p>
4-points Lagrange interpolation is used. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cyl</em>&nbsp;</td><td>is the cylindrical coordinates </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>psi</em>&nbsp;</td><td>if not NULL then this address at return contains the poloidal flux in the point cyl. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>cylindrical B-vector or zero-vector if <code>cyl</code> lies outside mesh <code></code>(Rmin,Rmax,Zmin,Zmax) </dd></dl>

</div>
</div><p>
<a class="anchor" name="f2b184345bdc9e5ebab3c933a423bf84"></a><!-- doxytag: member="MConf::CEfit::cyl2s" ref="f2b184345bdc9e5ebab3c933a423bf84" args="(const Vector3d &amp;cyl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double cyl2s           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>cyl</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The method finds the flux label <code>s</code> (normalized toroidal flux) which corresponds to the point <code>cyl</code> in space. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cyl</em>&nbsp;</td><td>is the input parameter with the cylindrical coordinates of the point of interest. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>s</code> (normalized toroidal flux), which normally satisfies <b>0&lt;=s&lt;=1</b>; <br>
 <code>s&gt;1</code> means that the point lies outside the LCMS, retuned parameters are not reliable here; <br>
 </dd></dl>

</div>
</div><p>
<a class="anchor" name="1d9c9c854c492f4cba04315305c0dc73"></a><!-- doxytag: member="MConf::CEfit::getNs" ref="1d9c9c854c492f4cba04315305c0dc73" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getNs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00203">203</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7192921615bb7978748e93c4f80747cc"></a><!-- doxytag: member="MConf::CEfit::getM" ref="7192921615bb7978748e93c4f80747cc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getM           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00204">204</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b706d7c9ec625ce951aa5ab49ad9fe49"></a><!-- doxytag: member="MConf::CEfit::getS" ref="b706d7c9ec625ce951aa5ab49ad9fe49" args="(int is) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getS           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
0&lt;=is&lt;=getNs() 
<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00207">207</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c4270d79ccb3eed2a05abb3046514bff"></a><!-- doxytag: member="MConf::CEfit::getIota" ref="c4270d79ccb3eed2a05abb3046514bff" args="(int is) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getIota           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00208">208</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3f7dd2dd294b56bcb4a262f98f0d5ca"></a><!-- doxytag: member="MConf::CEfit::getPp" ref="d3f7dd2dd294b56bcb4a262f98f0d5ca" args="(int is) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getPp           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00215">215</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e62db80cd87631fbb0e00396ad4ca45a"></a><!-- doxytag: member="MConf::CEfit::getIpol" ref="e62db80cd87631fbb0e00396ad4ca45a" args="(int is) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getIpol           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00216">216</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="84e8e6842dbc8e408dd000564753dad2"></a><!-- doxytag: member="MConf::CEfit::getFlux" ref="84e8e6842dbc8e408dd000564753dad2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getFlux           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00223">223</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="0c6f9145f6e1f7eb2edea0a3a1199c33"></a><!-- doxytag: member="MConf::CEfit::getRmajor" ref="0c6f9145f6e1f7eb2edea0a3a1199c33" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getRmajor           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00224">224</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a9720258baf5be77d062a13412a73971"></a><!-- doxytag: member="MConf::CEfit::getMAxis" ref="a9720258baf5be77d062a13412a73971" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMConf_1_1Vector3d.html">Vector3d</a> getMAxis           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00225">225</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5c2fe017e8a030a73e102e5caed1de87"></a><!-- doxytag: member="MConf::CEfit::createSurface" ref="5c2fe017e8a030a73e102e5caed1de87" args="(int is, double &amp;dVds, double &amp;Itor, std::ofstream *out=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createSurface           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>dVds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>Itor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream *&nbsp;</td>
          <td class="paramname"> <em>out</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
0&lt;=is&lt;=getNs() 
<p>

</div>
</div><p>
<a class="anchor" name="ecc7b03e807efca1d799abd85c18cd30"></a><!-- doxytag: member="MConf::CEfit::getRm0" ref="ecc7b03e807efca1d799abd85c18cd30" args="(int m) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getRm0           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
0&lt;=m&lt;=getM() 
<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00232">232</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="bba4fd95512f8beda860ba7113552d72"></a><!-- doxytag: member="MConf::CEfit::getBm0" ref="bba4fd95512f8beda860ba7113552d72" args="(int m) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getBm0           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00233">233</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="0a265dc61f655515882136e868fcb61a"></a><!-- doxytag: member="MConf::CEfit::getZm0" ref="0a265dc61f655515882136e868fcb61a" args="(int m) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getZm0           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00234">234</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="0f61f3129280b9f3cb4baebcd559e814"></a><!-- doxytag: member="MConf::CEfit::getRm1" ref="0f61f3129280b9f3cb4baebcd559e814" args="(int m) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getRm1           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00235">235</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="249b288fa38f48b1bbb30229105d47f9"></a><!-- doxytag: member="MConf::CEfit::getBm1" ref="249b288fa38f48b1bbb30229105d47f9" args="(int m) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getBm1           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00236">236</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ec30db457c56ef0fa6819c2fa0d4d21d"></a><!-- doxytag: member="MConf::CEfit::getZm1" ref="ec30db457c56ef0fa6819c2fa0d4d21d" args="(int m) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getZm1           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00237">237</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="74c73484fed4fe291efbbeb43884058c"></a><!-- doxytag: member="MConf::CEfit::amoebaFunc" ref="74c73484fed4fe291efbbeb43884058c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class amoebaFunc<code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="CEfit_8h-source.html#l00302">302</a> of file <a class="el" href="CEfit_8h-source.html">CEfit.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CEfit_8h-source.html">CEfit.h</a></ul>
</div>
    <p><a class="anchor" name="BottomOfPage"></a></p>
    <div class="no-print" align="right">
      <table border="0">
        <tr>
        <td>[ <a class="el" href="#TopOfPage">top</a> ]</td>
        <td>[ <a class="el" href="javascript:history.back(-1);"><b>back</b></a> ]</td> 
        </tr>
      </table>
    </div>
    <hr class="separator">
    <div class="ippAddress" align="right">
      <table border="0">
        <tr>
          <td class="ippAddress">13 Oct 2021 &nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td class="ippAddress">
            <a href="http://www.ipp.mpg.de"><img src="IPP.png" alt="www.ipp.mpg.de" border="0"></a>
          </td>
          <td class="ippAddress">
            <!-- Copyright &copy; 2005-2008<br> --> 
            Max-Planck-Institut<br>f&uuml;r Plasmaphysik
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
</body>
</html>
